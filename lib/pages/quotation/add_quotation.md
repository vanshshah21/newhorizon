# Add Quotation

The form contains following fields

During the form page load following api's will be called
1. GET url:{{baseUrl}}/api/Lead/GetDefaultDocumentDetail?year=25-26&type=SQ&subType=SQ&locationId=8 and response:{"data":[{"documentString":"YY-YY/GR/LOC/NNNNNN","lastSrNo":"0","groupCode":"QA","locationId":8,"locationCode":"CT2","locationName":"CTPL Unit2","isDefault":"N","isLocationRequired":true,"isAutoNumberGenerated":true,"isAutorisationRequired":true,"groupDescription":"QUATATION ENTRY","locationFullName":"CT2 - CTPL Unit2","groupFullName":"QA - QUATATION ENTRY"}],"message":null,"errors":null,"success":true,"errorMessage":null}

1. Quotation Base
- It's a dropdown field.
- Options are fetched from api during page load.
- API details: GET url:{{baseUrl}}/api/Quotation/QuotationBaseList and response:{"data":[{"Code":"I","Name":"With Inquiry Reference"},{"Code":"O","Name":"Without Inquiry Reference"}],"Success":false,"message":null,"errors":null,"success":true,"errorMessage":null}
- It is a required field.

2. Quote to
- It's a typeahead field.
- The api call will be made after user types 4 characters and then the dropdown will be shown
- It is a required field.
- The api details are POST url:{{baseUrl}}/api/Quotation/QuotationGetCustomer body:{"PageSize":2,"PageNumber":1,"SortField":"","SortDirection":"","SearchValue":"source","UserId":2} and response:{"data":[{"totalRows":17,"customerCode":"003","customerName":"source","gstno":"bfgr12345555555","address1":"Plot No 11 , Scheme 24","address2":"Tit colony","address3":"Neemuch, Madhyapradesh","cityCode":"NEE","cityName":"Neemuch","currency":"INR","currencyDescription":"Indian Rupee","pinCode":"458441","salesmanCode":"448","salesmanName":"Srivatsa Mahesh","isdCode":"","areaCode":"","telephoneNo":"8815298475","customerID":"84","modeOfDispatch":"ROAD","modeOfDispDesc":"By road","locationName":"","locationID":"","customerFullName":"003 - source"},{"totalRows":17,"customerCode":"1234","customerName":"Source Pro","gstno":"243242342342342","address1":"time square","address2":"thalthej","address3":"","cityCode":"15","cityName":"Ahmedabad","currency":"INR","currencyDescription":"Indian Rupee","pinCode":"382330","salesmanCode":"","salesmanName":"","isdCode":"","areaCode":"","telephoneNo":"7203894245","customerID":"2108","modeOfDispatch":"","modeOfDispDesc":"","locationName":"","locationID":"","customerFullName":"1234 - Source Pro"}],"message":null,"errors":null,"success":true,"errorMessage":null}.

3. Bill to
- It's a typeahead field.
- By default it will be prefilled with the same value as Quote to when user selects Quote to but user can change it.
- The api call will be made after user types 4 characters and then the dropdown will be shown with the data from the api response.
- It is a required field.
- The api details are POST url:{{baseUrl}}/api/Quotation/QuotationGetCustomer body:{"PageSize":2,"PageNumber":1,"SortField":"","SortDirection":"","SearchValue":"source","UserId":2} and response:{"data":[{"totalRows":17,"customerCode":"003","customerName":"source","gstno":"bfgr12345555555","address1":"Plot No 11 , Scheme 24","address2":"Tit colony","address3":"Neemuch, Madhyapradesh","cityCode":"NEE","cityName":"Neemuch","currency":"INR","currencyDescription":"Indian Rupee","pinCode":"458441","salesmanCode":"448","salesmanName":"Srivatsa Mahesh","isdCode":"","areaCode":"","telephoneNo":"8815298475","customerID":"84","modeOfDispatch":"ROAD","modeOfDispDesc":"By road","locationName":"","locationID":"","customerFullName":"003 - source"},{"totalRows":17,"customerCode":"1234","customerName":"Source Pro","gstno":"243242342342342","address1":"time square","address2":"thalthej","address3":"","cityCode":"15","cityName":"Ahmedabad","currency":"INR","currencyDescription":"Indian Rupee","pinCode":"382330","salesmanCode":"","salesmanName":"","isdCode":"","areaCode":"","telephoneNo":"7203894245","customerID":"2108","modeOfDispatch":"","modeOfDispDesc":"","locationName":"","locationID":"","customerFullName":"1234 - Source Pro"}],"message":null,"errors":null,"success":true,"errorMessage":null} (both uses same api).

4. Salesman
- It's a dropdown field.
- Options are fetched from api during page load.
- API Details: GET url:{{baseUrl}}/api/Lead/LeadSalesManList response:{"data":[{"salesmanCode":"1526","salesmanName":"AACHAL","isSalesman":true,"salesManFullName":"1526 - AACHAL"},{"salesmanCode":"2624","salesmanName":"AACHAL","isSalesman":true,"salesManFullName":"2624 - AACHAL"},{"salesmanCode":"arvi","salesmanName":"arvi pipaliya","isSalesman":true,"salesManFullName":"arvi - arvi pipaliya"},{"salesmanCode":"raj","salesmanName":"raj chudasama","isSalesman":true,"salesManFullName":"raj - raj chudasama"},{"salesmanCode":"YRM","salesmanName":"Yogesh Shinde","isSalesman":true,"salesManFullName":"YRM - Yogesh Shinde"}],"Success":false,"message":null,"errors":null,"success":true,"errorMessage":null}
- It's a required field.

5. Subject
- It's a text input.
- It is provided by the user.
- It's a required field.

6. Lead Number (conditional)
- This field will only be visible when user selects With Inquiry Reference in Quotation Base.
- It's a dropdown field.
- Options will be loaded from api.
- API will be called after user selects Bill to (customer) API details GET url:{{baseUrl}}/api/Quotation/QuotationInquirygetOpenInquiryNumberList?customercode=003&userlocationcodes='CT2' response:{"data":[{"inquiryYear":"22-23","inquiryGroup":"SI","inquirySite":"CT2","inquiryNumber":"000093","inquiryDate":"2023-01-01T00:00:00","customerCode":"003","customerName":"source","salesmanCode":"006","salesmanName":"Santosh Kokitkar","inquiryId":70101,"inquirySiteId":8,"remark":"To test and verify"},{"inquiryYear":"22-23","inquiryGroup":"SI","inquirySite":"CT2","inquiryNumber":"000101","inquiryDate":"2023-02-01T00:00:00","customerCode":"003","customerName":"source","salesmanCode":"006","salesmanName":"Santosh Kokitkar","inquiryId":70109,"inquirySiteId":8,"remark":""}],"message":null,"errors":null,"success":true,"errorMessage":null}.
- It's a required field.
- When user select the Lead Number then following api will be called GET url:{{baseUrl}}/API/Quotation/QuotationInquirygetInquiryDetail?InquiryId=70101 response:{"data":{"inquiryDetails":[{"customerCode":"003","customerName":"source","inquiryYear":"22-23","inquirySiteId":8,"inquiryGroup":"SI","inquiryNumber":"000093","inquiryDate":"2023-01-01T00:00:00","salesPersonCode":"006","salesPersonName":"Santosh Kokitkar","xinslsrgn":"N","salesRegionCode":"N","inquirySourceCode":"BM","inquiryStatus":"O","inquiryRemark":"To test and verify","nextFollowUp":"0001-01-01T00:00:00","inquiryQuotationId":0,"inquiryTendorNo":"11","inquiryEMDRequiredDate":"0001-01-01T00:00:00","inquiryEMDAmount":0.00,"inquiryEMDEndDate":"0001-01-01T00:00:00","inquiryRefNo":"001","customerContactId":10022,"projectItemId":"0","projectInquiryType":"NI","custCode":"003","projectItemCode":"","projectItemName":"","consultantCode":"ZQC1","consultantName":"ZQC Consultant1"}],"itemDetails":[{"salesItemCode":"0908230","salesItemDesc":"Item TEST1","salesItemType":"M","modelNo":"","lineNo":"2","qtySUOM":5.0000,"qtyiuom":5.000000000000000000,"basicPriceSUOM":800.0000,"basicPriceIUOM":800.00000000,"basicAmount":4000.00000000,"application":"Teest 1","pdo":"","qtnItemStatus":"O","ximfugid":"","currencyCode":"INR","conversionFactor":1.0000,"rateStructureCode":"0012","rateStructureDesc":"0012","customerCode":"003","precision":0,"uom":"NO","remark":"","customerPoItemSrNo":"","customerItemCode":"","iuom":"NO","intItemCode":"0908230","customerItemName":"","addtnDsc":"","drawingNo":"","revNo":"0","applicationCode":"001","subProject":"","section":"","group":"","subGroup":"","applicationName":"Teest 1","deliveryDay":0,"productSpareSize":"","invoiceType":"Regular","allowChange":false,"dispatchWithoutMfg":false,"hsnCode":"","discountDetails":[{"discountCode":"01","discountName":"Sales Discount","discountType":"V","discountValue":1000.00,"salesItemCode":"0908230","itmLineNo":0}],"rateStructureDetails":[{"rateCode":"CGST","rateDesc":"CGST9%","incOrExc":"E","perOrVal":"P","taxValue":9.00,"applicationOn":"0","currencyCode":"INR","isPrint":false,"sequenceNo":0,"postNonPost":true,"locationId":8,"lineNo":0,"taxType":"M","customerItemCode":"","rateSturctureCode":"0012","isChangeTaxVal":false,"roundOff":"False","actual":"FALSE","applicationOnDisplay":"B.V.","bvAmountPerc":0.0},{"rateCode":"CGST","rateDesc":"CGST9%","incOrExc":"E","perOrVal":"P","taxValue":9.00,"applicationOn":"0","currencyCode":"INR","isPrint":false,"sequenceNo":1,"postNonPost":true,"locationId":8,"lineNo":0,"taxType":"M","customerItemCode":"","rateSturctureCode":"0012","isChangeTaxVal":false,"roundOff":"False","actual":"FALSE","applicationOnDisplay":"B.V.","bvAmountPerc":0.0},{"rateCode":"S0009","rateDesc":"SGST _ 2.5%","incOrExc":"E","perOrVal":"P","taxValue":2.50,"applicationOn":"0","currencyCode":"INR","isPrint":false,"sequenceNo":1,"postNonPost":true,"locationId":8,"lineNo":0,"taxType":"N","customerItemCode":"","rateSturctureCode":"0012","isChangeTaxVal":false,"roundOff":"False","actual":"FALSE","applicationOnDisplay":"B.V.","bvAmountPerc":0.0},{"rateCode":"S0009","rateDesc":"SGST _ 2.5%","incOrExc":"E","perOrVal":"P","taxValue":2.50,"applicationOn":"0","currencyCode":"INR","isPrint":false,"sequenceNo":2,"postNonPost":true,"locationId":8,"lineNo":0,"taxType":"N","customerItemCode":"","rateSturctureCode":"0012","isChangeTaxVal":false,"roundOff":"False","actual":"FALSE","applicationOnDisplay":"B.V.","bvAmountPerc":0.0}]},{"salesItemCode":"SASHI2","salesItemDesc":"sales item","salesItemType":"M","modelNo":"","lineNo":"3","qtySUOM":2.0000,"qtyiuom":2.000000000000000000,"basicPriceSUOM":150.0000,"basicPriceIUOM":150.00000000,"basicAmount":300.00000000,"application":"Teest 1","pdo":"","qtnItemStatus":"O","ximfugid":"","currencyCode":"INR","conversionFactor":1.0000,"rateStructureCode":"","rateStructureDesc":"","customerCode":"003","precision":0,"uom":"NOS","remark":"","customerPoItemSrNo":"","customerItemCode":"","iuom":"","intItemCode":"","customerItemName":"","addtnDsc":"","drawingNo":"","revNo":"","applicationCode":"001","subProject":"","section":"","group":"","subGroup":"","applicationName":"Teest 1","deliveryDay":2,"productSpareSize":"","invoiceType":"Regular","allowChange":true,"dispatchWithoutMfg":false,"hsnCode":"56039400","discountDetails":[{"discountCode":"","discountName":"","discountType":"N","discountValue":0.00,"salesItemCode":"SASHI2","itmLineNo":0}],"rateStructureDetails":[]}],"equipmentAttributeDetails":[],"attachmentDetails":[]},"message":null,"errors":null,"success":true,"errorMessage":null}, we have to prefill all the details which cam in the response with it's respective field.

7. Date
- It's a date picker.
- It is a required field.
- The start and end date will be set using value stored in flutter secure storage with key finance_period and values are stored in periodSDt, periodEDt
- It is a prefilled field but user can change the date.
- If current date is greater than the periodEDt then use periodEDt as value or else use current date as default date.

8. Items List
- List of item cards will be displayed.
- Each card contains Item details like Item Name, Qty/UOM, Basic Rate, Amount.
- User can edit and delete item.
- At least one item should be there in the list.

9. Add New Item Button (conditional)
- It will be a button.
- This will be displayed if On Other is selected in Select Preference.
- When clicked it will open add item form.
- It is a required field.

9a. Item Form (new page)
- It will contain the following fields: Item Name, Qty/UOM, Basic Rate, Discount Type, Discount Percentage (conditional), Discount Amount (conditional), Rate Structure.

	a. Item Name
	- Typeahead fields displays a dropdown with item after user types certain characters currently 4.
	- API Call after user types 4 characters.
	- API POST url:{{baseUrl}}/api/Lead/GetSalesItemList?flag=L body:{"pageSize":2,"pageNumber":1,"sortField":"","sortDirection":"","searchValue":"asus"} response: {"data":[{"totalRows":7,"itemCode":"00032","itemName":"ASUS LAP MANF","salesUOM":"NOS","intitemcode":"0032","internAlITEMNAME":"ASUS LAP MANF","drawingNo":"12A","drawingRevNo":"0","digit":0,"salesItemType":"M","addtnDsc":"","dtlDesc":"","itemUOM":"NOS","msideltime":1,"delday":1,"actflg":true,"hsnCode":"73182100","productSpareSize":"","ximinvtyp":"Regular","allowchng":false,"msicnvfct":1.0,"msimodelno":"","mimdispwomfg":0,"salesItemFullName":"00032-ASUS LAP MANF","priceListItemRevNo":0},{"totalRows":7,"itemCode":"00333","itemName":"ASUS LAP Feature","salesUOM":"NOS","intitemcode":"0033","internAlITEMNAME":"ASUS LAP Feature","drawingNo":"","drawingRevNo":"0","digit":0,"salesItemType":"M","addtnDsc":"","dtlDesc":"","itemUOM":"NOS","msideltime":1,"delday":1,"actflg":true,"hsnCode":"84313990","productSpareSize":"","ximinvtyp":"Regular","allowchng":false,"msicnvfct":1.0,"msimodelno":"QSM1","mimdispwomfg":0,"salesItemFullName":"00333-ASUS LAP Feature","priceListItemRevNo":0}],"message":null,"errors":null,"success":true,"errorMessage":null}
(note: the user data will be assigned to "searchValue" key and then api is called).
	- when user select's an item certain fields will be automatically prefilled.
	- If user switches the item them remove the old item data and show the new item data.
	- Required field.

	b. Qty/UOM
	- It's a number input.
	- The min value is 1.
	- The UOM will be displayed from the data of item selected by user it's static and cannot be changed.
	- It is a required field.

	c. Basic Rate
	- It's a number input.
	- The Basic Rate will be displayed from the data of item selected by user.
	- It can not be 0 or less than 0.
	- It is a required field.

	d. Discount Type
	- It's a dropdown field.
	- The options are None, Percentage, Value.
	- It is a required field.

	e. Discount Percentage (conditional)
	- It's a number input.
	- Display only when Percentage is selected in Discount Type.
	- The value can be Between 1 and 99 (not 0 or 100). (Realtime validation)
	- It is a required field if Percentage is selected in Discount Type.
	- User will input the percentage we have to convert it to value

	f. Discount Amount (conditional)
	- It's a number input.
	- Display only when Percentage is selected in Discount Type.
	- It is a required field if Value is selected in Discount Type.
	- Amount cannot be greater equal to Basic Rate. (Realtime validation)

	g. Rate Structure
	- It's a dropdown field.
	- Options are fetched from API during page load.
	- API to fetch Options GET url:{{baseUrl}}/api/Quotation/QuotationGetRateStructureForSales?companyID=1&currencyCode=INR response:{"data":[{"rateStructCode":"00018","rateStructDesc":"dfd","rateStructFullName":"00018 - dfd"},{"rateStructCode":"001","rateStructDesc":"fg","rateStructFullName":"001 - fg"},{"rateStructCode":"0012","rateStructDesc":"Rate Structure for new item","rateStructFullName":"0012 - Rate Structure for new item"},{"rateStructCode":"A001","rateStructDesc":"NP Sales Interstate _ IGST _ 18%","rateStructFullName":"A001 - NP Sales Interstate _ IGST _ 18%"},{"rateStructCode":"A002","rateStructDesc":"NP Sales Interstate _ IGST _ 18% MIx","rateStructFullName":"A002 - NP Sales Interstate _ IGST _ 18% MIx"},{"rateStructCode":"H001","rateStructDesc":"NP 18%","rateStructFullName":"H001 - NP 18%"},{"rateStructCode":"PRSRV","rateStructDesc":"18%","rateStructFullName":"PRSRV - 18%"},{"rateStructCode":"RATE0","rateStructDesc":"Ratecheckzero","rateStructFullName":"RATE0 - Ratecheckzero"},{"rateStructCode":"S015","rateStructDesc":"BV+CGST+SGST","rateStructFullName":"S015 - BV+CGST+SGST"},{"rateStructCode":"SCS00","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+CGST0+SGST0","rateStructFullName":"SCS00 - BASIC+FREIGHT+INSU+PACK+CGST0+SGST0"},{"rateStructCode":"SCS05","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+CGST2.5+SGST2.5","rateStructFullName":"SCS05 - BASIC+FREIGHT+INSU+PACK+CGST2.5+SGST2.5"},{"rateStructCode":"SCS12","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+CGST6+SGST6","rateStructFullName":"SCS12 - BASIC+FREIGHT+INSU+PACK+CGST6+SGST6"},{"rateStructCode":"SCS18","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+CGST9+SGST9","rateStructFullName":"SCS18 - BASIC+FREIGHT+INSU+PACK+CGST9+SGST9"},{"rateStructCode":"SCS28","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+CGST14+SGST14","rateStructFullName":"SCS28 - BASIC+FREIGHT+INSU+PACK+CGST14+SGST14"},{"rateStructCode":"SIN00","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+IGST0","rateStructFullName":"SIN00 - BASIC+FREIGHT+INSU+PACK+IGST0"},{"rateStructCode":"SIN05","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+IGST5","rateStructFullName":"SIN05 - BASIC+FREIGHT+INSU+PACK+IGST5"},{"rateStructCode":"SIN12","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+IGST12","rateStructFullName":"SIN12 - BASIC+FREIGHT+INSU+PACK+IGST12"},{"rateStructCode":"SIN18","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+IGST18","rateStructFullName":"SIN18 - BASIC+FREIGHT+INSU+PACK+IGST18"},{"rateStructCode":"SIN28","rateStructDesc":"BASIC+FREIGHT+INSU+PACK+IGST28","rateStructFullName":"SIN28 - BASIC+FREIGHT+INSU+PACK+IGST28"},{"rateStructCode":"SR001","rateStructDesc":"Sales Interstate _ IGST _ 18%","rateStructFullName":"SR001 - Sales Interstate _ IGST _ 18%"},{"rateStructCode":"SR002","rateStructDesc":"Sales Interstate _ IGST _ 12%","rateStructFullName":"SR002 - Sales Interstate _ IGST _ 12%"},{"rateStructCode":"SR003","rateStructDesc":"Sales Interstate _ IGST _ 5%","rateStructFullName":"SR003 - Sales Interstate _ IGST _ 5%"},{"rateStructCode":"SR004","rateStructDesc":"Sales Intrastate _ CGST _ SGST _ 9%","rateStructFullName":"SR004 - Sales Intrastate _ CGST _ SGST _ 9%"},{"rateStructCode":"SR006","rateStructDesc":"Sales Intrastate _ CGST _ SGST _ 6%","rateStructFullName":"SR006 - Sales Intrastate _ CGST _ SGST _ 6%"},{"rateStructCode":"SR008","rateStructDesc":"Sales Intrastate _ CGST _ SGST _ 2.5%","rateStructFullName":"SR008 - Sales Intrastate _ CGST _ SGST _ 2.5%"},{"rateStructCode":"SR010","rateStructDesc":"Sales Intrastate _ CGST _ SGST _ 0.05%","rateStructFullName":"SR010 - Sales Intrastate _ CGST _ SGST _ 0.05%"},{"rateStructCode":"SR012","rateStructDesc":"Sales Intrastate _ IGST _ 0.1%","rateStructFullName":"SR012 - Sales Intrastate _ IGST _ 0.1%"},{"rateStructCode":"SR013","rateStructDesc":"Sales Export _ Duty Paid","rateStructFullName":"SR013 - Sales Export _ Duty Paid"},{"rateStructCode":"SR014","rateStructDesc":"Sales Export _ LUT","rateStructFullName":"SR014 - Sales Export _ LUT"},{"rateStructCode":"SR015","rateStructDesc":"Sales _ Scrap","rateStructFullName":"SR015 - Sales _ Scrap"},{"rateStructCode":"SR016","rateStructDesc":"Sales_Scrap_5%","rateStructFullName":"SR016 - Sales_Scrap_5%"},{"rateStructCode":"SR020","rateStructDesc":"SALES RATE 18%","rateStructFullName":"SR020 - SALES RATE 18%"},{"rateStructCode":"SV001","rateStructDesc":"Sales Interstate _ IGST _ 1","rateStructFullName":"SV001 - Sales Interstate _ IGST _ 1"},{"rateStructCode":"SV055","rateStructDesc":"Sales Interstate _ IGST _ 5.5","rateStructFullName":"SV055 - Sales Interstate _ IGST _ 5.5"}],"message":null,"errors":null,"success":true,"errorMessage":null}
	- When user selects an item the following api is called in background without blocking the ui API GET url:{{baseUrl}}/api/Quotation/QuotationSelectOnRateStruCode?rateStructureCode=SR020 response:{"data":[{"msprtcd":"S0015","mprrtdesc":"Packing & Forwarding","mspincexc":"E","mspperval":"V","msprtval":"0.00","mspappon":"","mspappondesc":"","mprcurcode":"INR","mspprnyn":"False","mspseqno":"1","msptype":"S","mspstrcd":"SR020","mspstrdesc":"SALES RATE 18%","msppnyn":"False","mspactyn":"True","mprtaxtyp":"P","mspfmloccd":"8","mprRoundOff":"False","mprchngtxval":"True","srno":1,"mtrslvlno":"","atActual":true,"isbifurcation":true},{"msprtcd":"S0001","mprrtdesc":"IGST _ 18%","mspincexc":"E","mspperval":"P","msprtval":"18.00","mspappon":"BV  + S0015","mspappondesc":"B.V. + S0015","mprcurcode":"INR","mspprnyn":"False","mspseqno":"2","msptype":"S","mspstrcd":"SR020","mspstrdesc":"SALES RATE 18%","msppnyn":"True","mspactyn":"True","mprtaxtyp":"L","mspfmloccd":"8","mprRoundOff":"True","mprchngtxval":"False","srno":1,"mtrslvlno":"01","atActual":false,"isbifurcation":true}],"message":null,"errors":null,"success":true,"errorMessage":null}.
	-It is a required field.

	h. Submit button
	- when pressed it will validate all the fields.
	- If there are any missing fields show error message in respective field.
	- If no error then make an API call POST url:{{baseUrl}}/api/Quotation/CalcRateStructure?RateStructureCode=SR020 body:{"ItemAmount":9,"ExchangeRt":"1","DomCurrency":"INR","CurrencyCode":"INR","DiscType":"","BasicRate":0,"DiscValue":0,"From":"sales","Flag":"","TotalItemAmount":9,"LandedPrice":0,"uniqueno":0,"RateCode":"SR020","RateStructureDetails":[{"rateCode":"S0015","rateDesc":"Packing & Forwarding","ie":"E","pv":"V","applicableOn":"","appOnDisplay":"","taxValue":"0.00","prevTaxValue":"0.00","postnonpost":false,"rateAmount":0,"currencyCode":"INR","itmModelRefNo":1,"sequenceNo":"1","taxType":"P","itemCode":"DEMO4","uniqueno":0},{"rateCode":"S0001","rateDesc":"IGST _ 18%","ie":"E","pv":"P","applicableOn":"01","appOnDisplay":"BV  + S0015","taxValue":"18.00","prevTaxValue":"18.00","postnonpost":true,"rateAmount":0,"currencyCode":"INR","itmModelRefNo":1,"sequenceNo":"2","taxType":"L","itemCode":"DEMO4","uniqueno":0}],"rateType":"S","IsView":false} response:{"data":{"rateCode":null,"rateStructureCode":null,"activeItemLine":0,"totalDomesticCurAmount":0.0,"totalForeignCurrAmunt":0.0,"totalExclusiveForeignCurrAmunt":0.0,"exchangeRateAmount":0.0,"totalItemAmount":11.0,"totlaItemAmountRounded":11.0,"poAmount":0.0,"grnAmount":0.0,"uniqueno":0,"finalRow":"N","itemLandedCost":11.0,"itemLandedCostRounded":11.0,"itemLandedInvCost":9.0,"itemLandedInvCostRounded":9.0,"totalInclusiveAmount":0.0,"totalExclForeignCurAmount":0.0,"totalForeignCurAmt":0.0,"totalExclusiveDomCurrAmount":2.0,"totalExclusiveDomCurrAmountRounded":2.0,"totalDomesticCurAmt":2.0,"nonPostableAmount":0.0,"nonPostableAmountRound":0.0,"postableAmount":2.0,"postableAmountRound":2.0,"totalRateAmount":0.0,"rateAmount":0.0,"rateAmountRounded":0.0,"totalItemAmountByRate":0.0,"totalItemAmountByRateRounded":0.0,"landedCost":0.0,"landedCostRounded":0.0,"blnLandCostNonPostReq":false,"itemAmount":9.0,"listCalcRateReturnDetails":[{"rateCode":"S0015","rateStructureCode":"SR020","activeItemLine":0,"totalDomesticCurAmount":0.0,"totalForeignCurrAmunt":0.0,"totalExclusiveForeignCurrAmunt":0.0,"exchangeRateAmount":0.0,"totalItemAmount":0.0,"totlaItemAmountRounded":0.0,"poAmount":0.0,"grnAmount":0.0,"uniqueno":0,"finalRow":"N","itemLandedCost":0.0,"itemLandedCostRounded":0.0,"itemLandedInvCost":0.0,"itemLandedInvCostRounded":0.0,"totalInclusiveAmount":0.0,"totalExclForeignCurAmount":0.0,"totalForeignCurAmt":0.0,"totalExclusiveDomCurrAmount":0.0,"totalExclusiveDomCurrAmountRounded":0.0,"totalDomesticCurAmt":0.0,"nonPostableAmount":0.0,"nonPostableAmountRound":0.0,"postableAmount":0.0,"postableAmountRound":0.0,"totalRateAmount":0.0,"rateAmount":0.0,"rateAmountRounded":0.0,"totalItemAmountByRate":9.0,"totalItemAmountByRateRounded":9.0,"landedCost":11.0,"landedCostRounded":11.0,"blnLandCostNonPostReq":false,"itemAmount":0.0,"listCalcRateReturnDetails":null,"rateStructureDetails":null},{"rateCode":"S0001","rateStructureCode":"SR020","activeItemLine":0,"totalDomesticCurAmount":0.0,"totalForeignCurrAmunt":0.0,"totalExclusiveForeignCurrAmunt":0.0,"exchangeRateAmount":0.0,"totalItemAmount":0.0,"totlaItemAmountRounded":0.0,"poAmount":0.0,"grnAmount":0.0,"uniqueno":0,"finalRow":"N","itemLandedCost":0.0,"itemLandedCostRounded":0.0,"itemLandedInvCost":0.0,"itemLandedInvCostRounded":0.0,"totalInclusiveAmount":0.0,"totalExclForeignCurAmount":0.0,"totalForeignCurAmt":0.0,"totalExclusiveDomCurrAmount":0.0,"totalExclusiveDomCurrAmountRounded":0.0,"totalDomesticCurAmt":0.0,"nonPostableAmount":0.0,"nonPostableAmountRound":0.0,"postableAmount":0.0,"postableAmountRound":0.0,"totalRateAmount":0.0,"rateAmount":2.0,"rateAmountRounded":2.0,"totalItemAmountByRate":11.0,"totalItemAmountByRateRounded":11.0,"landedCost":11.0,"landedCostRounded":11.0,"blnLandCostNonPostReq":false,"itemAmount":0.0,"listCalcRateReturnDetails":null,"rateStructureDetails":null}],"rateStructureDetails":[{"taxRateCode":null,"itemCode":"DEMO4","taxValue":0.0,"appOnDisplay":"","xdtdamdsrno":0,"rateCode":"S0015","rateDesc":"Packing & Forwarding","msptype":"","ie":"E","pv":"V","currencyCode":"INR","index":0,"postnonpost":false,"rateAmount":0.0,"salItemCode":"","totalAmount":0.0,"print":false,"applicableOn":"","mprroundoff":false,"atactual":false,"flagWantCalcAmtTaxChangetaxVal":false,"mprchngtxval":0,"percentage":null,"acGroup":"","acCode":"","mprtaxtyp":"","xdtdrefid":null,"intLocId":null,"mspactyn":false,"sequenceNo":1,"itmModelRefNo":0,"isbifurcation":false,"referenceId":0,"mprnottopay":false},{"taxRateCode":null,"itemCode":"DEMO4","taxValue":18.0,"appOnDisplay":"BV  + S0015","xdtdamdsrno":0,"rateCode":"S0001","rateDesc":"IGST _ 18%","msptype":"","ie":"E","pv":"P","currencyCode":"INR","index":0,"postnonpost":true,"rateAmount":0.0,"salItemCode":"","totalAmount":0.0,"print":false,"applicableOn":"01","mprroundoff":false,"atactual":false,"flagWantCalcAmtTaxChangetaxVal":false,"mprchngtxval":0,"percentage":null,"acGroup":"","acCode":"","mprtaxtyp":"","xdtdrefid":null,"intLocId":null,"mspactyn":false,"sequenceNo":2,"itmModelRefNo":0,"isbifurcation":false,"referenceId":0,"mprnottopay":false}]},"message":null,"errors":null,"success":true,"errorMessage":null}.
	- ItemAmount and TotalItemAmount are discounted value or value after applying discount.
	- The discounting is done locally 
	- After successful response redirect the user to Add Quotation form with response and discount amount.

10. Total Card
- It will be use to display total information of items
- The card will show 4 thing.
- 1:Basic Amount (sum of all basic amount of items)
- 2:Discount Value (sum of all discount of items)
- 3:Tax Amount: (sum of all tax of items)
- 4:Total Amount: (sum of all total amount (value after removing discount and adding tax) of items)
- Everything done here is locally.

11. Attachment
- List of all the files uploaded by user.
- User can add and delete attachments.
- It's an optional field.

12. Submit button
- It will validate all the data.
- If there are any missing fields show error message in respective field.
- If no error then make an API call POST url:{{baseUrl}}/API/Quotation/QuotationCreate body:{"authorizationRequired":"Y","autoNumberRequired":"Y","siteRequired":"Y","authorizationDate":"06/09/2025","fromLocationId":8,"userId":2,"companyId":1,"fromLocationCode":"CT2","fromLocationName":"CTPL Unit2","ip":"","mac":"","domesticCurrencyCode":"INR","quotationDetails":{"customerCode":"003","quotationYear":"24-25","quotationGroup":"QA","quotationNumber":0,"quotationDate":"01/01/2025","salesPersonCode":"","validity":"30","attachFlag":"","totalAmounttAfterTaxDomesticCurrency":"206.80","totalAmountAfterTaxCustomerCurrency":"206.80","totalAmountAfterDiscountCustomerCurrency":"180.00","exchangeRate":"1","discountType":"None","discountAmount":"0","modValue":0,"subject":"Bottle","kindAttentionName":"","kindAttentionDesignation":"","destination":"","authorizedSignatoryName":"","authorizedSignatoryDesignation":"","customerInqRefNo":"","customerInqRefDate":"","customerName":"source","inquiryDate":null,"quotationSiteId":"8","quotationSiteCode":"CT2","quotationId":0,"inquiryId":0,"quotationTypeSalesOrder":"REG","ProjectItemId":0,"ProjectItemCode":"","isAgentAssociated":false,"projectName":"","contactEmail":"","contactNo":"","submittedDate":null,"isBudgetaryQuotation":false,"quotationStatus":"NS","quotationAmendDate":null,"currencyCode":"INR","agentCode":"","quotationTypeConfig":"N","reasonCode":"","consultantCode":"","billToCustomerCode":"003","amendmentSrNo":"0","xqdbookcd":""},"modelDetails":[{"itemLineNo":1,"customerCode":"003","quotationOrderNumber":"","modelNo":"","salesItemCode":"00176","qtyIUOM":10,"basicPriceIUOM":10,"discountType":"Percentage","discountValue":10,"discountAmt":"10.00","qtySUOM":10,"basicPriceSUOM":10,"conversionFactor":1,"itemOrderQty":0,"allQty":0,"amendmentSrNo":"0","cancelQty":0,"salesItemType":"M","currencyCode":"INR","rateProcess":"N","rateStructureCode":"SR020","tolerance":0,"amendmentYear":"","amendmentGroup":"","amendmentSiteId":0,"amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"invoiceMethod":"Q","agentCode":"","subProjectId":0,"sectionId":0,"groupId":0,"subGroupId":0,"customerPOItemSrNo":1,"drawingNo":"","quotationLineNo":0,"quotationAmendNo":0,"amendmentChargable":"A","amendmentCBOMChange":"A","oldCustomerPOReference":"","reasonCode":"","salesReasonCode":"","deliveryDay":0,"invoiceType":"Regular","oldSalesItemCode":"","oldInternalItemCode":"","itemAmountAfterDisc":90,"isGroupSpare":"","hsnCode":"39161010","detaildescription":"","loadRate":0,"netRate":9},{"itemLineNo":2,"customerCode":"003","quotationOrderNumber":"","modelNo":"","salesItemCode":"003","qtyIUOM":10,"basicPriceIUOM":10,"discountType":"Percentage","discountValue":10,"discountAmt":"10.00","qtySUOM":10,"basicPriceSUOM":10,"conversionFactor":1,"itemOrderQty":0,"allQty":0,"amendmentSrNo":"0","cancelQty":0,"salesItemType":"M","currencyCode":"INR","rateProcess":"N","rateStructureCode":"SR002","tolerance":0,"amendmentYear":"","amendmentGroup":"","amendmentSiteId":0,"amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"invoiceMethod":"Q","agentCode":"","subProjectId":0,"sectionId":0,"groupId":0,"subGroupId":0,"customerPOItemSrNo":2,"drawingNo":"12i","quotationLineNo":0,"quotationAmendNo":0,"amendmentChargable":"A","amendmentCBOMChange":"A","oldCustomerPOReference":"","reasonCode":"","salesReasonCode":"","deliveryDay":0,"invoiceType":"Regular","oldSalesItemCode":"","oldInternalItemCode":"","itemAmountAfterDisc":90,"isGroupSpare":"","hsnCode":"39161010","detaildescription":"","loadRate":0,"netRate":9}],"discountDetails":[{"salesItemCode":"00176","currencyCode":"INR","discountCode":"001","discountType":"Percentage","discountValue":10,"amendSrNo":"0","itmLineNo":1},{"salesItemCode":"003","currencyCode":"INR","discountCode":"01","discountType":"Percentage","discountValue":10,"amendSrNo":"0","itmLineNo":2}],"rateStructureDetails":[{"customerItemCode":"00176","rateCode":"S0015","incOrExc":"E","perOrVal":"V","taxValue":"0.00","applicationOn":"","currencyCode":"INR","sequenceNo":"1","postNonPost":false,"taxType":"P","rateSturctureCode":"SR020","rateAmount":0,"amendSrNo":"0","refId":0,"itmModelRefNo":1},{"customerItemCode":"00176","rateCode":"S0001","incOrExc":"E","perOrVal":"P","taxValue":"18.00","applicationOn":"01","currencyCode":"INR","sequenceNo":"2","postNonPost":true,"taxType":"L","rateSturctureCode":"SR020","rateAmount":16,"amendSrNo":"0","refId":0,"itmModelRefNo":1},{"customerItemCode":"003","rateCode":"S0015","incOrExc":"E","perOrVal":"V","taxValue":"0.00","applicationOn":"","currencyCode":"INR","sequenceNo":"1","postNonPost":true,"taxType":"P","rateSturctureCode":"SR002","rateAmount":0,"amendSrNo":"0","refId":1,"itmModelRefNo":2},{"customerItemCode":"003","rateCode":"S0016","incOrExc":"E","perOrVal":"V","taxValue":"0.00","applicationOn":"","currencyCode":"INR","sequenceNo":"2","postNonPost":true,"taxType":"F","rateSturctureCode":"SR002","rateAmount":0,"amendSrNo":"0","refId":1,"itmModelRefNo":2},{"customerItemCode":"003","rateCode":"S0017","incOrExc":"E","perOrVal":"V","taxValue":"0.00","applicationOn":"","currencyCode":"INR","sequenceNo":"3","postNonPost":true,"taxType":"I","rateSturctureCode":"SR002","rateAmount":0,"amendSrNo":"0","refId":1,"itmModelRefNo":2},{"customerItemCode":"003","rateCode":"S0002","incOrExc":"E","perOrVal":"P","taxValue":"12.00","applicationOn":"0123","currencyCode":"INR","sequenceNo":"4","postNonPost":true,"taxType":"L","rateSturctureCode":"SR002","rateAmount":10.8,"amendSrNo":"0","refId":1,"itmModelRefNo":2}],"historyDetails":[],"noteDetails":[],"equipmentAttributeDetails":[],"addOnDetails":[],"subItemDetails":[],"standardTerms":[],"quotationRemarks":[],"msctechspecifications":true,"mscSameItemAllowMultitimeFlag":true}
and response:{"data":{"authorizationRequired":"Y","autoNumberRequired":"Y","siteRequired":"Y","authorizationDate":"2025-03-31T00:00:00","fromLocationId":8,"userId":2,"companyId":1,"companyCode":null,"fromLocationCode":"CT2","fromLocationName":"CTPL Unit2","ip":"","mac":"","docType":"SQ","docSubType":"SQ","domesticCurrencyCode":"INR","quotationDetails":{"customerCode":"003","quotationYear":"24-25","quotationGroup":"QA","quotationNumber":"000190","quotationDate":"2025-01-01T00:00:00","qtnStatus":"O","salesPersonCode":"","validity":30,"attachFlag":"","totalAmounttAfterTaxDomesticCurrency":206.8,"totalAmountAfterTaxCustomerCurrency":206.8,"totalAmountAfterDiscountCustomerCurrency":180,"exchangeRate":1,"discountType":"None","discountTypeText":"","discountAmount":0,"modValue":0,"subject":"Bottle","kindAttentionName":"","kindAttentionDesignation":"","destination":"","authorizedSignatoryName":"","authorizedSignatoryDesignation":"","customerInqRefNo":"","customerInqRefDate":null,"customerName":"source","inquiryDate":null,"quotationSiteId":8,"quotationSiteCode":"CT2","quotationId":250744,"inquiryId":0,"quotationTypeSalesOrder":"REG","projectItemId":0,"projectItemCode":"","isAgentAssociated":false,"projectName":"","contactEmail":"","contactNo":"","submittedDate":null,"isBudgetaryQuotation":false,"quotationStatus":"NS","quotationAmendDate":null,"currencyCode":"INR","agentCode":"","quotationTypeConfig":"N","reasonCode":"","reasonDesc":null,"consultantCode":"","billToCustomerCode":"003","amendmentSrNo":0,"xqdbookcd":""},"modelDetails":[{"itemLineNo":1,"docType":"Q","custPONumber":null,"modelNo":"","salesItemCode":"00176","salesItemDesc":null,"qtyIUOM":10,"basicPriceIUOM":10,"discountType":"Percentage","discountValue":10,"discountAmt":10,"status":"O","qtySUOM":10,"basicPriceSUOM":10,"conversionFactor":1,"itemOrderQty":0,"allQty":0,"amendmentSrNo":0,"cancelQty":0,"salesItemType":"M","currencyCode":"INR","rateProcess":"N","rateStructureCode":"SR020","rateStructureDesc":null,"tolerance":0,"amendmentYear":"","amendmentGroup":"","amendmentSiteId":0,"amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"invoiceMethod":"Q","agentCode":"","subProjectId":0,"sectionId":0,"groupId":0,"subGroupId":0,"remark":null,"customerPOItemSrNo":"1","customerItemCode":null,"drawingNo":"","customerItemName":null,"applicationCode":null,"tagNo":null,"agentCommisionType":null,"agentCommisionTypeText":"NONE","agentCommisionValue":0,"quotationId":0,"quotationLineNo":0,"quotationAmendNo":0,"amendmentChargable":"A","amendmentChargableText":"NOTAPPLICABLE","amendmentCBOMChange":"A","amendmentCBOMChangeText":"NOTAPPLICABLE","originalBasicPrice":0,"isSubItem":false,"oldCustomerPOReference":"","oldOAFReference":null,"reasonCode":"","salesReasonCode":"","deliveryDay":0,"hsnCode":"39161010","invoiceType":"Regular","invoiceTypeShortText":"R","alreadyInvoiceBasicValue":0,"oldIORef":0,"oldSalesItemCode":"","oldInternalItemCode":"","itemAmountAfterDisc":90,"isGroupSpare":"","detaildescription":"","mainitemcode":null,"printseq":null,"qtyheight":null,"qtyweight":null,"hwqty":null,"freightCharge":null,"loadRate":0,"netRate":9,"discountCode":null,"discountName":null,"discountTypeText":"PERCENTAGE","discountRate":null,"fixdrate":null,"variablerate":null},{"itemLineNo":2,"docType":"Q","custPONumber":null,"modelNo":"","salesItemCode":"003","salesItemDesc":null,"qtyIUOM":10,"basicPriceIUOM":10,"discountType":"Percentage","discountValue":10,"discountAmt":10,"status":"O","qtySUOM":10,"basicPriceSUOM":10,"conversionFactor":1,"itemOrderQty":0,"allQty":0,"amendmentSrNo":0,"cancelQty":0,"salesItemType":"M","currencyCode":"INR","rateProcess":"N","rateStructureCode":"SR002","rateStructureDesc":null,"tolerance":0,"amendmentYear":"","amendmentGroup":"","amendmentSiteId":0,"amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"invoiceMethod":"Q","agentCode":"","subProjectId":0,"sectionId":0,"groupId":0,"subGroupId":0,"remark":null,"customerPOItemSrNo":"2","customerItemCode":null,"drawingNo":"12i","customerItemName":null,"applicationCode":null,"tagNo":null,"agentCommisionType":null,"agentCommisionTypeText":"NONE","agentCommisionValue":0,"quotationId":0,"quotationLineNo":0,"quotationAmendNo":0,"amendmentChargable":"A","amendmentChargableText":"NOTAPPLICABLE","amendmentCBOMChange":"A","amendmentCBOMChangeText":"NOTAPPLICABLE","originalBasicPrice":0,"isSubItem":false,"oldCustomerPOReference":"","oldOAFReference":null,"reasonCode":"","salesReasonCode":"","deliveryDay":0,"hsnCode":"39161010","invoiceType":"Regular","invoiceTypeShortText":"R","alreadyInvoiceBasicValue":0,"oldIORef":0,"oldSalesItemCode":"","oldInternalItemCode":"","itemAmountAfterDisc":90,"isGroupSpare":"","detaildescription":"","mainitemcode":null,"printseq":null,"qtyheight":null,"qtyweight":null,"hwqty":null,"freightCharge":null,"loadRate":0,"netRate":9,"discountCode":null,"discountName":null,"discountTypeText":"PERCENTAGE","discountRate":null,"fixdrate":null,"variablerate":null}],"discountDetails":[{"salesItemCode":"00176","currencyCode":"INR","discountCode":"001","discountType":"Percentage","discountValue":10,"amendSrNo":0,"discountName":null,"itmLineNo":1},{"salesItemCode":"003","currencyCode":"INR","discountCode":"01","discountType":"Percentage","discountValue":10,"amendSrNo":0,"discountName":null,"itmLineNo":2}],"rateStructureDetails":[{"customerItemCode":"00176","rateCode":"S0015","incOrExc":"E","perOrVal":"V","taxValue":0,"applicationOn":"","currencyCode":"INR","sequenceNo":1,"postNonPost":false,"taxType":"P","rateSturctureCode":"SR020","rateAmount":0,"amendSrNo":0,"itmModelRefNo":1},{"customerItemCode":"00176","rateCode":"S0001","incOrExc":"E","perOrVal":"P","taxValue":18,"applicationOn":"01","currencyCode":"INR","sequenceNo":2,"postNonPost":true,"taxType":"L","rateSturctureCode":"SR020","rateAmount":16,"amendSrNo":0,"itmModelRefNo":1},{"customerItemCode":"003","rateCode":"S0015","incOrExc":"E","perOrVal":"V","taxValue":0,"applicationOn":"","currencyCode":"INR","sequenceNo":1,"postNonPost":true,"taxType":"P","rateSturctureCode":"SR002","rateAmount":0,"amendSrNo":0,"itmModelRefNo":2},{"customerItemCode":"003","rateCode":"S0016","incOrExc":"E","perOrVal":"V","taxValue":0,"applicationOn":"","currencyCode":"INR","sequenceNo":2,"postNonPost":true,"taxType":"F","rateSturctureCode":"SR002","rateAmount":0,"amendSrNo":0,"itmModelRefNo":2},{"customerItemCode":"003","rateCode":"S0017","incOrExc":"E","perOrVal":"V","taxValue":0,"applicationOn":"","currencyCode":"INR","sequenceNo":3,"postNonPost":true,"taxType":"I","rateSturctureCode":"SR002","rateAmount":0,"amendSrNo":0,"itmModelRefNo":2},{"customerItemCode":"003","rateCode":"S0002","incOrExc":"E","perOrVal":"P","taxValue":12,"applicationOn":"0123","currencyCode":"INR","sequenceNo":4,"postNonPost":true,"taxType":"L","rateSturctureCode":"SR002","rateAmount":10.8,"amendSrNo":0,"itmModelRefNo":2}],"addOnDetails":[],"subItemDetails":[],"termDetails":[{"subType":"TM","termCode":"DL","subTermOrChargeCode":"0001","subTermDescOrChargeValue":"test the deleievery terms","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":0},{"subType":"TM","termCode":"IR","subTermOrChargeCode":"001","subTermDescOrChargeValue":"insure the insurence","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":0},{"subType":"TM","termCode":"OT","subTermOrChargeCode":"001OC","subTermDescOrChargeValue":"Octoi terms by us and octoi terms by Company","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":0},{"subType":"TM","termCode":"PK","subTermOrChargeCode":"001PK","subTermDescOrChargeValue":"Extra as Applicable on packing and forwarding Terms","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":0},{"subType":"TM","termCode":"PY","subTermOrChargeCode":"001","subTermDescOrChargeValue":"check the payment with code","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":1},{"subType":"TM","termCode":"TD","subTermOrChargeCode":"001","subTermDescOrChargeValue":"BY MAIL","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":11},{"subType":"TM","termCode":"UI","subTermOrChargeCode":"001UI","subTermDescOrChargeValue":"testing the code and check Usage data","amendmentSrNo":0,"amendmentYear":"","amendmentGroup":"","amendmentNo":"","amendmentDate":null,"amendmentAuthBy":0,"amendmentAuthDate":null,"amendmentSiteId":0,"printSequence":23}],"quotationTextDetails":[{"termDocType":"CC","termId":"24-25/QA/CT2/000190","remark":null,"termLineId":1,"termAmendSrNo":0},{"termDocType":"SQ","termId":"24-25/QA/CT2/000190","remark":null,"termLineId":1,"termAmendSrNo":0},{"termDocType":"RES","termId":"24-25/QA/CT2/000190","remark":"","termLineId":1,"termAmendSrNo":0},{"termDocType":"SQIT","termId":"00176","remark":null,"termLineId":1,"termAmendSrNo":0},{"termDocType":"SQIT","termId":"003","remark":null,"termLineId":2,"termAmendSrNo":0}],"historyDetails":[],"standardTerms":[],"noteDetails":[],"equipmentAttributeDetails":[],"quotationRemarks":[],"technicalspec":null,"msctechspecifications":true,"mscSameItemAllowMultitimeFlag":true},"message":"CreatedKey#Quotation No :. 24-25/QA/CT2/000190","errors":null,"success":true,"errorMessage":null}.
- If there is an attachment then after the create we need to call another api to upload attachment which is already written: Future<bool> uploadAttachments({
    required List<String> filePaths,
    required String documentNo,
    required String documentId,
    required String docYear,
    required String formId,
    required String locationCode,
    required String companyCode,
    required int locationId,
    required int companyId,
    required int userId,
  }) async {
    try {
      await _setupHeaders();
      final baseUrl = await _getBaseUrl();
      const endpoint = "/api/Lead/uploadAttachmentnew2";
      final documentNumber = "$documentNo/LEADENTRY";

      // Create FormData for the multipart request
      final formData = FormData();

      // Add ALL fields from FileAttachmentModel as form fields
      formData.fields.addAll([
        MapEntry("LocationID", locationId.toString()),
        MapEntry("CompanyID", companyId.toString()),
        MapEntry("CompanyCode", companyCode),
        MapEntry("LocationCode", locationCode),
        MapEntry("DocYear", docYear),
        MapEntry("FormID", formId),
        MapEntry("DocumentNo", documentNumber),
        MapEntry("DocumentID", documentId),
      ]);

      // Add files correctly
      for (final path in filePaths) {
        final fileName = path.split('/').last;
        formData.files.add(
          MapEntry(
            "AttachmentsFile",
            await MultipartFile.fromFile(path, filename: fileName),
          ),
        );
      }

      final headers = Map<String, dynamic>.from(_dio.options.headers);
      headers.remove('Content-Type');

      debugPrint("Form fields: ${formData.fields}");
      debugPrint("Form files count: ${formData.files.length}");

      final response = await _dio.post(
        '$baseUrl$endpoint',
        data: formData,
        options: Options(
          headers: headers,
          contentType: 'multipart/form-data', // Explicitly set this
          followRedirects: false,
        ),
      );

      debugPrint("Upload response: ${response.statusCode}");
      debugPrint("Response data: ${response.data}");
      return response.statusCode == 200 && response.data['Success'] == true;
    } catch (e) {
      debugPrint("Error in uploadAttachments: $e");
      if (e is DioException) {
        debugPrint("Status code: ${e.response?.statusCode}");
        debugPrint("Error response: ${e.response?.data}");
        debugPrint("Request: ${e.requestOptions.uri}");
        debugPrint("Headers sent: ${e.requestOptions.headers}");
      }
      return false;
    }
  }.
  - If there is no attachment then we don't have to call uploadAttachment api.

Tips (important points for checking):
- Use the QuotationCreate body so the state of the form can be easily managed.
- Need to convert the QuotationSelectOnRateStruCode response for rateStructureDetails field before assigning in QuotationCreate body.
- If user changes Quotation base in between then clear the fields below it
- If user changes Lead number then clear old data and fill new data.
- If user changes Bill to then reset Lead Number (if displayed) and also remove any lead items and clear total.
- If user adds items or delete an item the total card should display changes accordingly.
- When we prefill details from lead number details, user can edit the item but user cannot change the item name but can edit any other fields.
- During the QuotationCreate and uploadAttachemnt (if there are any attachments) api call disable all the fields if the response contains "success": true then redirect user to list page and if the response is "success": false then enable all the fields and display the error so user can correct it.
